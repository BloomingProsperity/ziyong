# Ultra Pachong - AI é©±åŠ¨çš„æ™ºèƒ½é‡‡é›†ç³»ç»Ÿ

<p align="center">
  <strong>ğŸ¤– AI-Powered Intelligent Web Scraping System</strong>
</p>

<p align="center">
  æ”¯æŒæ—¥é‡‡10ä¸‡+æ•°æ® | æ™ºèƒ½åçˆ¬ç»•è¿‡ | è‡ªåŠ¨æ•…éšœæ¢å¤ | MCPåè®®æ”¯æŒ
</p>

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | æè¿° |
|------|------|
| ğŸ§  **AI Brain** | æ™ºèƒ½å†³ç­–ä¸­å¿ƒï¼Œè‡ªåŠ¨åˆ†æç½‘ç«™ã€é€‰æ‹©æœ€ä¼˜ç­–ç•¥ |
| ğŸ” **æ™ºèƒ½ä¾¦æŸ¥** | è‡ªåŠ¨è¯†åˆ«åçˆ¬ç­‰çº§ã€åŠ å¯†å‚æ•°ã€éªŒè¯ç ç±»å‹ |
| ğŸ”„ **è‡ªåŠ¨æ¢å¤** | é›†æˆè¯Šæ–­ä¸æ¢å¤æ¨¡å—ï¼Œæ•…éšœè‡ªåŠ¨ä¿®å¤ |
| ğŸ” **ç­¾åç ´è§£** | æ”¯æŒ H5ST/WBI/X-Bogus ç­‰ä¸»æµç­¾åç®—æ³• |
| ğŸª **å‡­æ®ç®¡ç†** | Cookie/Token/Session æ± åŒ–ç®¡ç†ï¼Œæ™ºèƒ½è½®æ¢ |
| ğŸ“¡ **MCPåè®®** | æ ‡å‡†åŒ– AI å·¥å…·æ¥å£ï¼Œæ— ç¼å¯¹æ¥ Claude/GPT |
| ğŸš€ **é«˜å¹¶å‘** | æ”¯æŒ 50-100 å¹¶å‘ï¼Œæ—¥é‡‡10ä¸‡+æ•°æ® |

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Unified Agent                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Brain  â”‚â”€â”€â”€â–¶â”‚ Scraper â”‚â”€â”€â”€â–¶â”‚   MCP   â”‚â”€â”€â”€â–¶â”‚  AI Client  â”‚  â”‚
â”‚  â”‚ (å†³ç­–)  â”‚    â”‚ (é‡‡é›†)  â”‚    â”‚ (åè®®)  â”‚    â”‚ (Claudeç­‰)  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â”‚              â”‚                                           â”‚
â”‚       â–¼              â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚Diagnosisâ”‚    â”‚Signatureâ”‚    â”‚Credentialâ”‚   â”‚   Recovery   â”‚  â”‚
â”‚  â”‚ (è¯Šæ–­)  â”‚    â”‚ (ç­¾å)  â”‚    â”‚ (å‡­æ®)  â”‚    â”‚   (æ¢å¤)    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ æ¨¡å—è¯´æ˜

### æ ¸å¿ƒæ¨¡å—

| æ¨¡å— | è·¯å¾„ | åŠŸèƒ½ |
|------|------|------|
| **Brain** | `api/brain.py` | AIå†³ç­–ä¸­å¿ƒï¼Œä»»åŠ¡ç¼–æ’ |
| **Scraper** | `scraper/` | æ•°æ®é‡‡é›†ï¼Œæ™ºèƒ½åˆ†æ |
| **MCP** | `mcp/` | Model Context Protocol å·¥å…·æ¥å£ |

### åŸºç¡€è®¾æ–½

| æ¨¡å— | è·¯å¾„ | åŠŸèƒ½ |
|------|------|------|
| **Diagnosis** | `diagnosis/` | é”™è¯¯è¯Šæ–­ï¼Œæ ¹å› åˆ†æ |
| **Recovery** | `recovery/` | æ•…éšœå†³ç­–æ ‘ï¼Œè‡ªåŠ¨æ¢å¤ |
| **Signature** | `signature/` | ç­¾åç”Ÿæˆ (MD5/SHA/JWT/å¹³å°ç­¾å) |
| **Credential** | `credential/` | å‡­æ®æ±  (Cookie/Tokenç®¡ç†) |

### è¾…åŠ©æ¨¡å—

| æ¨¡å— | è·¯å¾„ | åŠŸèƒ½ |
|------|------|------|
| **Proxy** | `infra/proxy.py` | ä»£ç†æ± ç®¡ç† |
| **CookiePool** | `infra/cookie_pool.py` | å…è´¹Cookieè‡ªåŠ¨ç”Ÿæˆ |
| **SignServer** | `infra/sign_server.py` | æœ¬åœ°ç­¾åRPCæœåŠ¡ |
| **Dispatcher** | `infra/dispatcher.py` | é«˜å¹¶å‘ä»»åŠ¡è°ƒåº¦ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/YOUR_USERNAME/ultra-pachong.git
cd ultra-pachong

# å®‰è£…ä¾èµ–
pip install -r unified_agent/requirements.txt

# å®‰è£…æµè§ˆå™¨ (å¯é€‰ï¼Œç”¨äºåŠ¨æ€é¡µé¢)
pip install playwright
playwright install chromium
```

### åŸºç¡€ä½¿ç”¨

```python
from unified_agent import Brain

brain = Brain()

# æ™ºèƒ½ä¾¦æŸ¥
analysis = brain.smart_investigate("https://example.com")
print(analysis.to_ai_report())

# åŸºäºåˆ†æç»“æœå†³ç­–
if analysis.recommended_approach == "direct_api":
    result = brain.call_api(...)
else:
    result = brain.scrape_page(...)
```

### ä½¿ç”¨ MCP å·¥å…·

```python
from unified_agent.mcp import MCPServer

server = MCPServer()

# åˆ—å‡ºæ‰€æœ‰å·¥å…·
tools = server.list_tools()

# æŠ“å–é¡µé¢
result = server.scrape("https://example.com")

# åˆ†æç½‘ç«™
result = server.analyze("https://jd.com")

# ç”Ÿæˆç­¾å
result = server.sign({"a": "1", "b": "2"}, "md5", "secret")

# è¯Šæ–­é”™è¯¯
result = server.diagnose("Connection timeout", 408)
```

### ä½¿ç”¨è¯Šæ–­ä¸æ¢å¤

```python
from unified_agent.diagnosis import Diagnoser
from unified_agent.recovery import FaultDecisionTree

# è¯Šæ–­é”™è¯¯
diagnoser = Diagnoser()
result = diagnoser.diagnose(
    Exception("403 Forbidden"),
    {"url": "https://api.example.com", "status_code": 403}
)
print(f"é”™è¯¯ç±»å‹: {result.error_type}")
print(f"å»ºè®®åŠ¨ä½œ: {result.recommended_solution.action}")

# è·å–æ¢å¤å†³ç­–
tree = FaultDecisionTree()
decision = tree.diagnose("403 Forbidden", {"status_code": 403})
print(f"æ¢å¤åŠ¨ä½œ: {decision.recovery_actions}")
```

---

## ğŸ“‹ å®æˆ˜æ¡ˆä¾‹: äº¬ä¸œè¯„è®ºçˆ¬è™«

é¡¹ç›®åŒ…å«å®Œæ•´çš„äº¬ä¸œè¯„è®ºçˆ¬è™«ç¤ºä¾‹ï¼Œé›†æˆäº†æ‰€æœ‰ Agent æ¨¡å—ï¼š

```bash
# è¿è¡Œäº¬ä¸œè¯„è®ºçˆ¬è™« (15000æ¡è¯„è®º)
python -m unified_agent.examples.jd_comment_scraper

# ä½¿ç”¨ä»£ç†
python -m unified_agent.examples.jd_comment_scraper --proxy http://127.0.0.1:7890

# æŒ‡å®šå“ç‰Œ
python -m unified_agent.examples.jd_comment_scraper --brands ç¾çš„ æ ¼åŠ› å°ç±³
```

**åŠŸèƒ½ç‰¹ç‚¹:**
- 10ä¸ªå“ç‰Œ Ã— 1500æ¡ = 15000æ¡è¯„è®º
- å¥½è¯„:å·®è¯„ = 9:1
- è‡ªåŠ¨å»é‡ã€æ•°æ®æ¸…æ´—
- H5ST RPC ç­¾å
- æ•…éšœè‡ªåŠ¨æ¢å¤

---

## ğŸ“š æŠ€èƒ½æ–‡æ¡£

é¡¹ç›®åŒ…å« 26+ è¯¦ç»†æŠ€èƒ½æ–‡æ¡£ï¼Œè¦†ç›–çˆ¬è™«å¼€å‘å…¨æµç¨‹ï¼š

| ç¼–å· | æŠ€èƒ½ | æè¿° |
|------|------|------|
| 00 | å¿«é€Ÿå¼€å§‹ | 5åˆ†é’Ÿä¸Šæ‰‹æŒ‡å— |
| 01 | ä¾¦æŸ¥ | ç½‘ç«™åˆ†æä¸åçˆ¬æ£€æµ‹ |
| 02 | åæ£€æµ‹ | æµè§ˆå™¨æŒ‡çº¹ã€è¡Œä¸ºæ¨¡æ‹Ÿ |
| 03 | ç­¾å | å¸¸è§ç­¾åç®—æ³•ç ´è§£ |
| 08 | è¯Šæ–­ | é”™è¯¯åˆ†ç±»ä¸æ ¹å› åˆ†æ |
| 09 | JSé€†å‘ | ç­¾åç®—æ³•é€†å‘ |
| 10 | éªŒè¯ç  | æ»‘å—/ç‚¹é€‰/OCR |
| 18 | Brain | AIå†³ç­–ä¸­å¿ƒ |
| 19 | å†³ç­–æ ‘ | æ•…éšœè‡ªåŠ¨æ¢å¤ |
| 23 | MCP | AIå·¥å…·åè®® |
| 24 | å‡­æ®æ±  | Cookie/Tokenç®¡ç† |

---

## ğŸ”§ é…ç½®

### ç¯å¢ƒå˜é‡

```bash
# ä»£ç†é…ç½®
PROXY_URL=http://127.0.0.1:7890

# 2Captcha API Key (éªŒè¯ç è¯†åˆ«)
CAPTCHA_API_KEY=your_key

# ç­¾åæœåŠ¡ç«¯å£
SIGN_SERVER_PORT=8765
```

### Docker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t ultra-pachong .

# è¿è¡Œå®¹å™¨
docker-compose up -d
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| æ—¥é‡‡é›†é‡ | 10ä¸‡+ | 50å¹¶å‘ Ã— 2000æ¡/å¹¶å‘ |
| è¯·æ±‚å»¶è¿Ÿ | <100ms | æœ¬åœ°ç­¾åæœåŠ¡ |
| æˆåŠŸç‡ | >95% | è‡ªåŠ¨é‡è¯•+æ¢å¤ |
| Cookieæ±  | å…è´¹ | è‡ªåŠ¨ç”ŸæˆåŒ¿åCookie |

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

## ğŸ“„ License

MIT License

---

## âš ï¸ å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨ï¼Œè¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„å’Œç½‘ç«™æœåŠ¡æ¡æ¬¾ã€‚ä½¿ç”¨æœ¬é¡¹ç›®äº§ç”Ÿçš„ä»»ä½•æ³•å¾‹è´£ä»»ç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…ã€‚
